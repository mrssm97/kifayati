{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sanjay Sharan Maurya/Desktop/bestcart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sanjay Sharan Maurya/Desktop/bestcart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Sanjay Sharan Maurya/Desktop/bestcart/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Sanjay Sharan Maurya/Desktop/bestcart/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Sanjay Sharan Maurya/Desktop/bestcart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Avatar,Box,Button,Checkbox,FormControlLabel,TextField,Typography}from\"@mui/material\";import LockOutlinedIcon from\"@mui/icons-material/LockOutlined\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var navigate=useNavigate();var linkStyle={fontFamily:' \"Roboto\",\"Helvetica\",\"Arial\",sans-serif',fontWeight:\"400\",fontSize:\"0.875rem\",lineHeight:\"1.43\",letterSpacing:\"0.01071em\",// color: \"#1976d2\",\ntextDecoration:\"underline\"// textDecorationColor: \"rgba(25, 118, 210, 0.4)\",\n};var marTop={marginTop:\"16px\"};function getInputData(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(function(old){return _objectSpread(_objectSpread({},old),{},_defineProperty({},name,value));});}function postData(_x){return _postData.apply(this,arguments);}function _postData(){_postData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,item;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"/user\",{method:\"get\",headers:{\"content-type\":\"application/json\"}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:response=_context.sent;item=response.slice(1).find(function(x){return x.username===data.username&&x.password===data.password;});if(item){localStorage.setItem(\"login\",true);localStorage.setItem(\"userid\",item.id);localStorage.setItem(\"name\",item.name);localStorage.setItem(\"username\",item.username);localStorage.setItem(\"role\",item.role);if(item.role===\"Buyer\")navigate(\"/\");else navigate(\"/\");}else setShow(true);case 9:case\"end\":return _context.stop();}},_callee);}));return _postData.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Box,{component:\"form\",onSubmit:function onSubmit(e){return postData(e);},sx:{mt:\"40px\",display:\"flex\",justifyContent:\"center\",width:\"100vw\"// height: \"500px\",\n// bgcolor: \"pink\",\n},children:/*#__PURE__*/_jsxs(Box,{sx:{// height: \"550px\",\nwidth:\"400px\",display:\"flex\",flexDirection:\"column\"// bgcolor: \"white\",\n},children:[/*#__PURE__*/_jsxs(Box,{width:\"100%\"// bgcolor={\"ButtonFace\"}\n,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1},className:\"bg-primary\",children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"})]}),/*#__PURE__*/_jsx(Box,{children:show?[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",color:\"red\",marginTop:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{children:\"* Enter correct username and password !!!\"})})]:null}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",mt:\"8px\",children:[/*#__PURE__*/_jsx(TextField,{label:\"User Name\",type:\"text\",variant:\"outlined\",name:\"username\",sx:marTop,required:true,onChange:getInputData}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",variant:\"outlined\",name:\"password\",sx:marTop,required:true,onChange:getInputData}),/*#__PURE__*/_jsx(FormControlLabel,{sx:marTop,control:/*#__PURE__*/_jsx(Checkbox,{}),label:\"Remember me\",className:\"remember\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",sx:marTop,className:\"bg-primary\",variant:\"contained\",fullWidth:true,children:\"Sign In\"}),/*#__PURE__*/_jsxs(Box,{width:\"100%\",display:\"flex\",justifyContent:\"space-between\",sx:marTop,children:[/*#__PURE__*/_jsx(Link,{to:\"/res-pass\",style:linkStyle,children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:linkStyle,children:\"Don't have an account? Sign Up\"})]})]})]})})]});}","map":{"version":3,"names":["Avatar","Box","Button","Checkbox","FormControlLabel","TextField","Typography","LockOutlinedIcon","React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_useState","username","password","_useState2","_slicedToArray","data","setData","_useState3","_useState4","show","setShow","navigate","linkStyle","fontFamily","fontWeight","fontSize","lineHeight","letterSpacing","textDecoration","marTop","marginTop","getInputData","e","_e$target","target","name","value","old","_objectSpread","_defineProperty","postData","_x","_postData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","item","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","sent","json","slice","find","x","localStorage","setItem","id","role","stop","children","component","onSubmit","sx","mt","display","justifyContent","width","flexDirection","alignItems","m","className","variant","style","textAlign","color","label","type","required","onChange","control","fullWidth","to"],"sources":["C:/Users/Sanjay Sharan Maurya/Desktop/bestcart/src/Component/Login.jsx"],"sourcesContent":["import {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Login() {\r\n  const [data, setData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [show, setShow] = useState(false);\r\n  var navigate = useNavigate();\r\n  const linkStyle = {\r\n    fontFamily: ' \"Roboto\",\"Helvetica\",\"Arial\",sans-serif',\r\n    fontWeight: \"400\",\r\n    fontSize: \"0.875rem\",\r\n    lineHeight: \"1.43\",\r\n    letterSpacing: \"0.01071em\",\r\n    // color: \"#1976d2\",\r\n    textDecoration: \"underline\",\r\n    // textDecorationColor: \"rgba(25, 118, 210, 0.4)\",\r\n  };\r\n  const marTop = { marginTop: \"16px\" };\r\n  function getInputData(e) {\r\n    var { name, value } = e.target;\r\n    setData((old) => {\r\n      return {\r\n        ...old,\r\n        [name]: value,\r\n      };\r\n    });\r\n  }\r\n\r\n  async function postData(e) {\r\n    e.preventDefault();\r\n    let response = await fetch(\"/user\", {\r\n      method: \"get\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    });\r\n    response = await response.json();\r\n    let item = response\r\n      .slice(1)\r\n      .find(\r\n        (x) => x.username === data.username && x.password === data.password\r\n      );\r\n    if (item) {\r\n      localStorage.setItem(\"login\", true);\r\n      localStorage.setItem(\"userid\", item.id);\r\n      localStorage.setItem(\"name\", item.name);\r\n      localStorage.setItem(\"username\", item.username);\r\n      localStorage.setItem(\"role\", item.role);\r\n      if (item.role === \"Buyer\") navigate(\"/\");\r\n      else navigate(\"/\");\r\n    } else setShow(true);\r\n  }\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      <Box\r\n        component=\"form\"\r\n        onSubmit={(e) => postData(e)}\r\n        sx={{\r\n          mt: \"40px\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          width: \"100vw\",\r\n          // height: \"500px\",\r\n          // bgcolor: \"pink\",\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            // height: \"550px\",\r\n            width: \"400px\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            // bgcolor: \"white\",\r\n          }}\r\n        >\r\n          <Box\r\n            width={\"100%\"}\r\n            // bgcolor={\"ButtonFace\"}\r\n            display={\"flex\"}\r\n            flexDirection={\"column\"}\r\n            alignItems={\"center\"}\r\n          >\r\n            <Avatar sx={{ m: 1 }} className=\"bg-primary\">\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            {show\r\n              ? [\r\n                  <div\r\n                    style={{\r\n                      textAlign: \"center\",\r\n                      color: \"red\",\r\n                      marginTop: \"20px\",\r\n                    }}\r\n                  >\r\n                    <i>* Enter correct username and password !!!</i>\r\n                  </div>,\r\n                ]\r\n              : null}\r\n          </Box>\r\n          <Box display={\"flex\"} flexDirection={\"column\"} mt={\"8px\"}>\r\n            <TextField\r\n              label=\"User Name\"\r\n              type=\"text\"\r\n              variant=\"outlined\"\r\n              name=\"username\"\r\n              sx={marTop}\r\n              required\r\n              onChange={getInputData}\r\n            />\r\n            <TextField\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              variant=\"outlined\"\r\n              name=\"password\"\r\n              sx={marTop}\r\n              required\r\n              onChange={getInputData}\r\n            />\r\n            <FormControlLabel\r\n              sx={marTop}\r\n              control={<Checkbox />}\r\n              label=\"Remember me\"\r\n              className=\"remember\"\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              sx={marTop}\r\n              className=\"bg-primary\"\r\n              variant=\"contained\"\r\n              fullWidth\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <Box\r\n              width={\"100%\"}\r\n              display={\"flex\"}\r\n              justifyContent={\"space-between\"}\r\n              sx={marTop}\r\n            >\r\n              <Link to={\"/res-pass\"} style={linkStyle}>\r\n                Forgot Password?\r\n              </Link>\r\n              <Link to={\"/signup\"} style={linkStyle}>\r\n                Don't have an account? Sign Up\r\n              </Link>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}